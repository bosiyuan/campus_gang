{"remainingRequest":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/src/views/PC/user/children/Accepted.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/src/views/PC/user/children/Accepted.vue","mtime":1635704094000},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/babel-loader/lib/index.js","mtime":1635870232549},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/vue-loader/lib/index.js","mtime":1635870230423}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGV9IGZyb20gInZ1ZXgiOwppbXBvcnQge2Zvcm1hdERhdGV9IGZyb20gJ0AvdXRpbC9kYXRlJzsKaW1wb3J0IHVzZXIgZnJvbSAiLi4vLi4vLi4vLi4vc3RvcmUvbW9kdWxlL3VzZXIiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkFjY2VwdGVkIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYWN0aXZlTmFtZXM6IFsnMSddLAogICAgICAgICAgICB0YXNrczogW10sCiAgICAgICAgICAgIC8vIGRyYXdlcjpmYWxzZSwKICAgICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwU3RhdGUoJ3VzZXInLCBbJ3VzZXInXSkKICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMubmV3TGlzdCgpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGRlbChpZCkgewogICAgICAgICAgICB0aGlzLiRwdXQoJy90YXNrL3Rha2VyQ2FuY2VsLycgKyBpZCkKICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeU1zZygn5oiQ5YqfJywgJ+WPlua2iOS7u+WKoeaIkOWKnycsICdzdWNjZXNzJykKICAgICAgICAgICAgICAgIHRoaXMubmV3TGlzdCgpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBuZXdMaXN0KCkgewogICAgICAgICAgICB0aGlzLiRnZXQoIi90YXNrL2FjY2VwdGVkIiwge2lkOiB0aGlzLnVzZXIuaWR9KQogICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy50YXNrcyA9IHJlcy5kYXRhLnRhc2sKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGFza3MpCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSwKICAgIGZpbHRlcnM6IHsKICAgICAgICBmb3JtYXREYXRlKHRpbWUpIHsKICAgICAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lKTsKICAgICAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUoZGF0ZSwgJ3l5eXktTU0tZGQgaGg6bW0nKTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Accepted.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Accepted.vue","sourceRoot":"src/views/PC/user/children","sourcesContent":["<template>\n    <div class=\"content\">\n        <el-card class=\"box-card\">\n            <div slot=\"header\" class=\"clearfix\">\n                <span>已接收任务</span>\n            </div>\n            <el-card class=\"box-card\" style=\"margin-top: 20px\" v-for=\"item in tasks\">\n                <div slot=\"header\" class=\"clearfix\"\n                     style=\"display: flex; align-items: center; justify-content: space-between\">\n                        <span style=\"display: flex;align-items: center\">\n                            <el-tag :type=\"item.state == 0 ? 'danger':(item.state == 1 ? 'warning':'success')\"\n                                    style=\"margin-right: 5px\">{{item.state == 0 ? '待解决':(item.state == 1 ? '服务中':'已完成')}}</el-tag>\n                            {{item.taskTitle}}\n                        </span>\n                    <!--                    <el-button style=\"float: right; padding: 3px 0\" type=\"text\">查看接受人信息</el-button>-->\n                    <template>\n                        <el-popconfirm title=\"确定取消任务吗\" @confirm=\"del(item.id)\">\n                            <el-button style=\"float: right; padding: 3px 0\" type=\"text\" slot=\"reference\"\n                                       v-show=\"item.state != 2\">取消任务\n                            </el-button>\n                        </el-popconfirm>\n                    </template>\n                </div>\n                <div>\n                    {{item.taskContext}}\n                </div>\n                <el-collapse style=\"margin-top: 20px\" v-model=\"activeNames\">\n                    <el-collapse-item title=\"发布人信息\" name=\"1\">\n                        <el-card class=\"box-card\">\n                            <div slot=\"header\" class=\"clearfix\">\n                                <span>{{item.publish.username}}</span>\n                                <el-button style=\"float: right; padding: 3px 0\" type=\"text\">投诉</el-button>\n                            </div>\n                            <div class=\"box_center\">\n                                <table cellspacing=\"0\">\n                                    <tr>\n                                        <th>电话</th>\n                                        <th>学校</th>\n                                        <th>所在系</th>\n                                        <th>所在班级</th>\n                                        <th>任务奖励</th>\n                                        <th>接受任务时间</th>\n                                    </tr>\n                                    <tr align=\"center\">\n                                        <td>{{item.publish.phone}}</td>\n                                        <td>{{item.publish.school.name}}</td>\n                                        <td>{{item.publish.dept.name}}</td>\n                                        <td>{{item.publish.aclass.name}}</td>\n                                        <td><i class=\"el-icon-money\" style=\"color: red;\">{{item.reward}}元</i></td>\n                                        <td>{{item.orderTime | formatDate}}</td>\n                                    </tr>\n                                </table>\n                            </div>\n                        </el-card>\n\n                    </el-collapse-item>\n                    <el-collapse-item title=\"查看钱款\" name=\"2\" v-if=\"item.state == 2\">\n                        <el-card class=\"box-card\">\n                            <div>\n                                <p>实收款：<i class=\"el-icon-money\" style=\"color: red;\">{{item.reward}}元</i></p>\n                                <p>到款时间：{{item.endTime | formatDate}}</p>\n                            </div>\n                        </el-card>\n                    </el-collapse-item>\n                </el-collapse>\n            </el-card>\n            <div style=\"text-align: center\">\n                <span v-if=\"tasks.length == 0\"><i class=\"el-icon-refresh-right\"></i>暂无发布任务</span>\n            </div>\n        </el-card>\n    </div>\n</template>\n\n<script>\n    import {mapState} from \"vuex\";\n    import {formatDate} from '@/util/date';\n    import user from \"../../../../store/module/user\";\n\n    export default {\n        name: \"Accepted\",\n        data() {\n            return {\n                activeNames: ['1'],\n                tasks: [],\n                // drawer:false,\n            };\n        },\n        computed: {\n            ...mapState('user', ['user'])\n        },\n        created() {\n            this.newList()\n        },\n        methods: {\n            del(id) {\n                this.$put('/task/takerCancel/' + id)\n                .then(res => {\n                    this.$notifyMsg('成功', '取消任务成功', 'success')\n                    this.newList()\n                })\n            },\n            newList() {\n                this.$get(\"/task/accepted\", {id: this.user.id})\n                .then(res => {\n                    this.tasks = res.data.task\n                    // console.log(this.tasks)\n                })\n            }\n        },\n        filters: {\n            formatDate(time) {\n                let date = new Date(time);\n                return formatDate(date, 'yyyy-MM-dd hh:mm');\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .content {\n        background: #FFf;\n        margin: 0 15px;\n        padding: 15px;\n\n        .box_center table {\n            margin: 0 auto;\n            width: 100%;\n            border-top: 1px solid #ebeef5;\n            border-left: 1px solid #ebeef5;\n        }\n\n        .box_center th, td {\n            padding: 15px 20px;\n            border-right: 1px solid #ebeef5;\n            border-bottom: 1px solid #ebeef5;\n        }\n    }\n</style>"]}]}