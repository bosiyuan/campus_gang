{"remainingRequest":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/src/views/PC/admin/children/School.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/src/views/PC/admin/children/School.vue","mtime":1652073965511},{"path":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/babel-loader/lib/index.js","mtime":1635870232549},{"path":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/vue-loader/lib/index.js","mtime":1635870230423}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJTY2hvb2wiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzY2hvb2xzIDogW10sCiAgICAgICAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICAgICAgICBvcGVuOiBmYWxzZSwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGd1aWQyKCkgewogICAgICAgICAgICBmdW5jdGlvbiBTNCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiAoKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKSB8IDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIChTNCgpICsgUzQoKSArICItIiArIFM0KCkgKyAiLSIgKyBTNCgpICsgIi0iICsgUzQoKSArICItIiArIFM0KCkgKyBTNCgpICsgUzQoKSk7CiAgICAgICAgfSwKICAgICAgICAvLy0tLS0tLS3mlrDliqDlhaUtLS0tLS0tLS0KICAgICAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovCiAgICAgICAgaGFuZGxlRWRpdCgpIHsKICAgICAgICAvLyAgIHRoaXMucmVzZXQoKTsKICAgICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgc3VibWl0Rm9ybSgpIHsKICAgICAgICB0aGlzLnRpdGxlID0gIua3u+WKoOWtpueUn+euoeeQhiI7CiAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgfSwKICAgICAgICAvLyDlj5bmtojmjInpkq4KICAgICAgICBjYW5jZWwoKSB7CiAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgfSwKICAgICAgICAvLy0tLS0tLS3mlrDliqDlhaUtLS0tLS0tLS0KICAgIH0sCgogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLiRnZXQoJy9zY2hvb2wnKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNjaG9vbHMpCiAgICAgICAgICAgIHRoaXMuc2Nob29scyA9IHJlcy5kYXRhLnNjaG9vbAogICAgICAgIH0pCiAgICB9LAogICAgY29tcHV0ZWQ6ewogICAgICAgIGRhdGFMaXN0KCl7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjaG9vbHMubWFwKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgbGV0IGRlcHRzID0gW107CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDtpPGl0ZW1bJ2RlcHRzJ10ubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaXRlbVsnZGVwdHMnXVtpXVsnY2xhc3NlcyddKQogICAgICAgICAgICAgICAgICAgIGRlcHRzLnB1c2goCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRzSWQgOiBpdGVtWydkZXB0cyddW2ldLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdG5hbWUgOiBpdGVtWydkZXB0cyddW2ldLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkIDogdGhpcy5ndWlkMigpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGVwdHMpCiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gW107CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7ajxpdGVtWydkZXB0cyddW2ldWydjbGFzc2VzJ10ubGVuZ3RoO2orKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlc0lkIDogaXRlbVsnZGVwdHMnXVtpXVsnY2xhc3NlcyddW2pdLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXNuYW1lOml0ZW1bJ2RlcHRzJ11baV1bJ2NsYXNzZXMnXVtqXS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQgOiB0aGlzLmd1aWQyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkZXB0c1tpXS5jaGlsZHJlbiA9IGNoaWxkcmVuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm57CiAgICAgICAgICAgICAgICAgICAgICAgIHNjaG9vbElkIDogaXRlbS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gOiBkZXB0cywKICAgICAgICAgICAgICAgICAgICAgICAgdXVpZCA6IHRoaXMuZ3VpZDIoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["School.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"School.vue","sourceRoot":"src/views/PC/admin/children","sourcesContent":["<template>\n    <div class=\"content\">\n        <el-table\n                :data=\"dataList\"\n                style=\"width: 100%;margin-bottom: 20px;\"\n                row-key=\"uuid\"\n                border\n                :default-expand-all = 'false'\n                :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\">\n            <el-table-column\n                    prop=\"name\"\n                    label=\"学校\"\n                    sortable\n                    width=\"230\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"deptname\"\n                    label=\"专业\"\n                    sortable\n                    width=\"180\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"classesname\"\n                    label=\"班级\">\n            </el-table-column>\n\n            <el-table-column label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button\n                            icon=\"el-icon-plus\"\n                            size=\"mini\"\n                            @click=\"handleEdit(scope.$index, scope.row)\">增加\n                    </el-button>\n\n                    <el-button\n                            icon=\"el-icon-edit\"\n                            size=\"mini\"\n                            @click=\"handleEdit(scope.$index, scope.row)\">修改\n                    </el-button>\n\n                    <el-button\n                            icon=\"el-icon-delete\"\n                            size=\"mini\"\n                            type=\"danger\"\n                            @click=\"handleDelete(scope.$index, scope.row)\">删除\n                    </el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <!-- ------------新加入---------- -->\n        <!-- 添加或修改学生管理对话框 -->\n        <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\n        <el-form ref=\"form\"  label-width=\"80px\">\n            <el-form-item label=\"学校\" prop=\"name\">\n            <el-input  placeholder=\"请输入学校\" />\n            </el-form-item>\n            <el-form-item label=\"专业\" prop=\"deptname\">\n            <el-input  placeholder=\"请输入专业\" />\n            </el-form-item>\n            <el-form-item label=\"班级\" prop=\"classesname\">\n            <el-input  placeholder=\"请输入班级\" />\n            </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n            <el-button @click=\"cancel\">取 消</el-button>\n        </div>\n        </el-dialog>\n        <!-- ------------新加入---------- -->\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"School\",\n        data() {\n            return {\n                schools : [],\n                // 弹出层标题\n                title: \"\",\n                // 是否显示弹出层\n                open: false,\n            }\n        },\n        methods: {\n            guid2() {\n                function S4() {\n                    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n                }\n                return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n            },\n            //-------新加入---------\n            /** 新增按钮操作 */\n            handleEdit() {\n            //   this.reset();\n            this.open = true;\n            },\n            submitForm() {\n            this.title = \"添加学生管理\";\n            this.open = false;\n            },\n            // 取消按钮\n            cancel() {\n            this.open = false;\n            },\n            //-------新加入---------\n        },\n\n        created() {\n            this.$get('/school')\n            .then(res => {\n                // console.log(res.data)\n                // console.log(this.schools)\n                this.schools = res.data.school\n            })\n        },\n        computed:{\n            dataList(){\n                return this.schools.map(item => {\n                    let depts = [];\n                    for (let i = 0;i<item['depts'].length;i++){\n                        // console.log(item['depts'][i]['classes'])\n                        depts.push(\n                            {\n                                deptsId : item['depts'][i].id,\n                                deptname : item['depts'][i].name,\n                                uuid : this.guid2()\n                            }\n                        )\n                        // console.log(depts)\n                        let children = [];\n                        for (let j = 0;j<item['depts'][i]['classes'].length;j++){\n                            children.push(\n                                {\n                                    classesId : item['depts'][i]['classes'][j].id,\n                                    classesname:item['depts'][i]['classes'][j].name,\n                                    uuid : this.guid2()\n                                }\n                            )\n                        }\n                        depts[i].children = children\n                    }\n                    return{\n                            schoolId : item.id,\n                            name : item.name,\n                            children : depts,\n                            uuid : this.guid2()\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .content {\n        padding: 0 1%;\n    }\n</style>"]}]}