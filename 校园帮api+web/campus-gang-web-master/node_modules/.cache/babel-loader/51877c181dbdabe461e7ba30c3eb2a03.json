{"remainingRequest":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/babel-loader/lib/index.js!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/src/components/Android/LoginInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/src/components/Android/LoginInput.vue","mtime":1635704094000},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/babel-loader/lib/index.js","mtime":1635870232549},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/校园帮api+web/campus-gang-web-master/node_modules/vue-loader/lib/index.js","mtime":1635870230423}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW5JbnB1dCIsCiAgcHJvcHM6IFsnYnRuJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0dWRlbnRJZDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgdmFsdWU6ICcnLAogICAgICBzY2hvb2xJZDogIiIsCiAgICAgIHNjaG9vbDogW10sCiAgICAgIHNob3dQaWNrZXI6IGZhbHNlLAogICAgICBjaGVja2VkOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25Db25maXJtOiBmdW5jdGlvbiBvbkNvbmZpcm0odmFsdWUpIHsKICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlLm5hbWU7CiAgICAgIHRoaXMuc2Nob29sSWQgPSB2YWx1ZS5pZDsKICAgICAgdGhpcy5zaG93UGlja2VyID0gZmFsc2U7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudmFsdWUgIT0gIiIgJiYgdGhpcy5jaGVja2VkKSB7CiAgICAgICAgaWYgKHRoaXMuYnRuID09PSAn55m75b2VJykgewogICAgICAgICAgdGhpcy4kZ2V0KCIvdXNlci9sb2dpbiIsIHsKICAgICAgICAgICAgInN0dWRlbnRJZCI6IHRoaXMuc3R1ZGVudElkLAogICAgICAgICAgICAicGFzc3dvcmQiOiB0aGlzLiRtZDUodGhpcy5wYXNzd29yZCksCiAgICAgICAgICAgICJzY2hvb2xJZCI6IHRoaXMuc2Nob29sSWQKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnVzZXIuc3RhdGUgPT0gMCkgewogICAgICAgICAgICAgICAgdmFyIGFjY291bnRPck5hbWUgPSByZXMuZGF0YS51c2VyLnVzZXJuYW1lID8gcmVzLmRhdGEudXNlci51c2VybmFtZSA6IHJlcy5kYXRhLnVzZXIuc3R1ZGVudElkOyAvL+WtmOWCqOaVsOaNruWIsHNlc3Npb25TdG9yYWdlCgogICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLnVzZXIpKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kbXNnKGFjY291bnRPck5hbWUgKyAi77yM55m75b2V5oiQ5YqfIiwgInN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9tL2hvbWUnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMuJG1zZygn6K+l55So5oi35bey6KKr5Ya757uT77yM6K+36IGU57O7566h55CG5ZGYJywgImVycm9yIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRtc2cocmVzLmRhdGEubXNnLCAiZXJyb3IiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHBvc3QoIi91c2VyIiwgewogICAgICAgICAgICAic3R1ZGVudElkIjogdGhpcy5zdHVkZW50SWQsCiAgICAgICAgICAgICJwYXNzd29yZCI6IHRoaXMuJG1kNSh0aGlzLnBhc3N3b3JkKSwKICAgICAgICAgICAgInNjaG9vbElkIjogdGhpcy5zY2hvb2xJZAogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICBfdGhpcy4kbXNnKHJlcy5kYXRhLm1zZywgInN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvbS9sb2dpbicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRtc2cocmVzLmRhdGEubXNnLCAiZXJyb3IiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUgPT0gJycpIHsKICAgICAgICB0aGlzLiRtc2coIuivt+mAieaLqeWtpuagoSIsICJlcnJvciIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1zZygi6K+35Yu+6YCJ55So5oi35Y2P6K6uIiwgImVycm9yIik7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLiRnZXQoIi9zY2hvb2wiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEuc2Nob29scykKICAgICAgX3RoaXMyLnNjaG9vbCA9IHJlcy5kYXRhLnNjaG9vbDsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["LoginInput.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\n    <van-form @submit=\"onSubmit\">\n        <van-field\n                v-model=\"studentId\"\n                name=\"学号\"\n                left-icon=\"friends-o\"\n                placeholder=\"请输入学号\"\n                :rules=\"[{ required: true, message: '请填写用户名' }]\"\n        />\n        <van-field\n                v-model=\"password\"\n                type=\"password\"\n                name=\"密码\"\n                left-icon=\"closed-eye\"\n                placeholder=\"请输入密码\"\n                :rules=\"[{ required: true, message: '请填写密码' }]\"\n        />\n        <van-field\n                readonly\n                clickable\n                name=\"picker\"\n                :value=\"value\"\n                left-icon=\"newspaper-o\"\n                placeholder=\"点击选择学校\"\n                @click=\"showPicker = true\"\n        />\n        <van-popup v-model=\"showPicker\" position=\"bottom\">\n            <van-picker\n                    show-toolbar\n                    :columns=\"school\"\n                    value-key=\"name\"\n                    @confirm=\"onConfirm\"\n                    @cancel=\"showPicker = false\"\n            />\n        </van-popup>\n        <slot name=\"prompt\"></slot>\n        <div style=\"margin: 16px 0;\">\n            <van-button round block native-type=\"submit\">\n                {{btn}}\n            </van-button>\n        </div>\n        <van-checkbox v-model=\"checked\" style=\"font-size: 10px\">已同意<a href=\"#\" style=\"color: red\">《平台登陆协议》</a>及<a\n                href=\"#\" style=\"color: red\">《隐私政策》</a></van-checkbox>\n    </van-form>\n</template>\n\n<script>\n    export default {\n        name: \"LoginInput\",\n        props:['btn'],\n        data() {\n            return {\n                studentId: '',\n                password: '',\n                value: '',\n                schoolId:\"\",\n                school: [],\n                showPicker: false,\n                checked: true,\n            }\n        },\n        methods: {\n            onConfirm(value) {\n                this.value = value.name;\n                this.schoolId = value.id\n                this.showPicker = false;\n            },\n            onSubmit() {\n                if (this.value != \"\" && this.checked){\n                    if (this.btn === '登录'){\n                        this.$get(\"/user/login\",\n                            {\"studentId\": this.studentId, \"password\": this.$md5(this.password), \"schoolId\": this.schoolId})\n                        .then(res=>{\n                            if (res.data.status) {\n                                if (res.data.user.state == 0){\n                                    let accountOrName = res.data.user.username?res.data.user.username:res.data.user.studentId;\n                                    //存储数据到sessionStorage\n                                    sessionStorage.setItem(\"user\",JSON.stringify(res.data.user));\n                                    this.$msg(accountOrName + \"，登录成功\", \"success\")\n                                    this.$router.push('/m/home')\n                                }else {\n                                    this.$msg('该用户已被冻结，请联系管理员', \"error\")\n                                }\n                            } else {\n                                this.$msg(res.data.msg, \"error\")\n                            }\n                        })\n                    }else {\n                        this.$post(\"/user\",\n                            {\"studentId\": this.studentId, \"password\": this.$md5(this.password), \"schoolId\": this.schoolId}\n                        ).then((res) => {\n                            if (res.data.status) {\n                                this.$msg(res.data.msg, \"success\")\n                                this.$router.push('/m/login')\n                            } else {\n                                this.$msg(res.data.msg, \"error\")\n                            }\n                        })\n                    }\n\n                }else if (this.value == ''){\n                    this.$msg(\"请选择学校\",\"error\")\n                }else {\n                    this.$msg(\"请勾选用户协议\",\"error\")\n                }\n            },\n        },\n        created() {\n            this.$get(\"/school\")\n            .then((res) => {\n                // console.log(res.data.schools)\n                this.school = res.data.school\n            })\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    /deep/ .van-field__left-icon {\n        margin-right: 15px !important;\n    }\n\n    .van-cell {\n        padding: 15px 0;\n    }\n\n    .van-button {\n        background: #8a97f6;\n        color: #fff;\n    }\n\n    .van-checkbox {\n        justify-content: center;\n    }\n\n    /deep/ .van-checkbox__icon {\n        font-size: 16px;\n\n        a {\n            color: red;\n        }\n    }\n</style>"],"sourceRoot":"src/components/Android"}]}