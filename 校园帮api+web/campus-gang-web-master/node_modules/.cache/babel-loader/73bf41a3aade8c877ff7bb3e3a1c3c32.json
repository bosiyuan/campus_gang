{"remainingRequest":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/babel-loader/lib/index.js!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/src/views/Android/Home/PerfectInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/src/views/Android/Home/PerfectInformation.vue","mtime":1635704094000},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/babel-loader/lib/index.js","mtime":1635870232549},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/vue-loader/lib/index.js","mtime":1635870230423}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3N1bnhpYW5jaGFvL0Rlc2t0b3AvU3ByaW5nQm9vdC9cdTk4NzlcdTc2RUUvXHU2RTkwXHU5ODc5XHU3NkVFL1x1NjgyMVx1NTZFRFx1OEREMVx1ODE3Ri9cdTZFOTBcdTY1ODdcdTRFRjYvMi9jYW1wdXMtZ2FuZy13ZWItbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUGVyZmVjdEluZm9ybWF0aW9uIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIC8vIOaYvuekuuWtl+S9kwogICAgICBmaWVsZFZhbHVlOiAnJywKICAgICAgLy8g6YCJ5oup55qE54+t57qnCiAgICAgIGNhc2NhZGVyVmFsdWU6IFtdLAogICAgICAvLyDpgInpobnliJfooajvvIxjaGlsZHJlbiDku6PooajlrZDpgInpobnvvIzmlK/mjIHlpJrnuqfltYzlpZcKICAgICAgZmllbGROYW1lczogewogICAgICAgIHRleHQ6ICduYW1lJywKICAgICAgICB2YWx1ZTogJ2lkJywKICAgICAgICBjaGlsZHJlbjogJ2NsYXNzZXMnCiAgICAgIH0sCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGhvbmU6ICIiLAogICAgICAvL+ePree6pwogICAgICBkZXB0OiBbXSwKICAgICAgc2V4OiAnMCcKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ3VzZXInLCBbJ3VzZXInXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKCd1c2VyJywgWydzZXRVc2VyJ10pKSwge30sIHsKICAgIG9uRmluaXNoOiBmdW5jdGlvbiBvbkZpbmlzaChfcmVmKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgc2VsZWN0ZWRPcHRpb25zID0gX3JlZi5zZWxlY3RlZE9wdGlvbnM7CiAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmZpZWxkVmFsdWUgPSBzZWxlY3RlZE9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHsKICAgICAgICByZXR1cm4gb3B0aW9uLm5hbWU7CiAgICAgIH0pLmpvaW4oJy8nKTsKICAgICAgc2VsZWN0ZWRPcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgX3RoaXMuY2FzY2FkZXJWYWx1ZS5wdXNoKG9wdGlvbi5pZCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jYXNjYWRlclZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLiRwdXQoIi91c2VyIiwgewogICAgICAgICAgaWQ6IHRoaXMudXNlci5pZCwKICAgICAgICAgICJkZXB0SWQiOiB0aGlzLmNhc2NhZGVyVmFsdWVbMF0sCiAgICAgICAgICAiY2xhc3NJZCI6IHRoaXMuY2FzY2FkZXJWYWx1ZVsxXSwKICAgICAgICAgICJ1c2VybmFtZSI6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICAicGhvbmUiOiB0aGlzLnBob25lLAogICAgICAgICAgJ3NleCc6IHRoaXMuc2V4CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczIuJGdldCgiL3VzZXIvIiArIF90aGlzMi51c2VyLmlkKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIiwgSlNPTi5zdHJpbmdpZnkocnMuZGF0YS51c2VyKSk7CgogICAgICAgICAgICBfdGhpczIuc2V0VXNlcihKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKSkpOwoKICAgICAgICAgICAgX3RoaXMyLiRtc2cocmVzLmRhdGEubXNnLCAnc3VjY2VzcycpOwoKICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogJ21Ib21lJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1zZygi6K+36YCJ5oup5a2m5qChIiwgImVycm9yIik7CiAgICAgIH0KICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy5zZXRVc2VyKEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKSk7CiAgICB0aGlzLiRnZXQoIi9zY2hvb2wvIiArIHRoaXMudXNlci5zY2hvb2wuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpczMuZGVwdCA9IHJlcy5kYXRhLnNjaG9vbC5kZXB0czsgLy8gY29uc29sZS5sb2codGhpcy5kZXB0KQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["PerfectInformation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,SAAA,YAAA,EAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,oBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA;AACA,MAAA,UAAA,EAAA,EAHA;AAIA;AACA,MAAA,aAAA,EAAA,EALA;AAMA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,IAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OAPA;AAYA,MAAA,QAAA,EAAA,EAZA;AAaA,MAAA,KAAA,EAAA,EAbA;AAcA;AACA,MAAA,IAAA,EAAA,EAfA;AAgBA,MAAA,GAAA,EAAA;AAhBA,KAAA;AAkBA,GArBA;AAsBA,EAAA,QAAA,oBACA,QAAA,CAAA,MAAA,EAAA,CAAA,MAAA,CAAA,CADA,CAtBA;AAyBA,EAAA,OAAA,kCACA,YAAA,CAAA,MAAA,EAAA,CAAA,SAAA,CAAA,CADA;AAEA,IAAA,QAFA,0BAEA;AAAA;;AAAA,UAAA,eAAA,QAAA,eAAA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,UAAA,GAAA,eAAA,CAAA,GAAA,CAAA,UAAA,MAAA;AAAA,eAAA,MAAA,CAAA,IAAA;AAAA,OAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AACA,MAAA,eAAA,CAAA,GAAA,CAAA,UAAA,MAAA,EAAA;AACA,QAAA,KAAA,CAAA,aAAA,CAAA,IAAA,CAAA,MAAA,CAAA,EAAA;AACA,OAFA;AAGA,KARA;AASA,IAAA,QATA,sBASA;AAAA;;AACA,UAAA,KAAA,aAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,OAAA,EACA;AACA,UAAA,EAAA,EAAA,KAAA,IAAA,CAAA,EADA;AAEA,oBAAA,KAAA,aAAA,CAAA,CAAA,CAFA;AAGA,qBAAA,KAAA,aAAA,CAAA,CAAA,CAHA;AAIA,sBAAA,KAAA,QAJA;AAKA,mBAAA,KAAA,KALA;AAMA,iBAAA,KAAA;AANA,SADA,EASA,IATA,CASA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,WAAA,MAAA,CAAA,IAAA,CAAA,EAAA,EACA,IADA,CACA,UAAA,EAAA,EAAA;AACA,YAAA,cAAA,CAAA,OAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,CAAA,EAAA,CAAA,IAAA,CAAA,IAAA,CAAA;;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,EAAA,SAAA;;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,IAAA,EAAA;AAAA,aAAA;AACA,WANA;AAOA,SAjBA;AAkBA,OAnBA,MAmBA;AACA,aAAA,IAAA,CAAA,OAAA,EAAA,OAAA;AACA;AACA;AAhCA,IAzBA;AA4DA,EAAA,OA5DA,qBA4DA;AAAA;;AACA,SAAA,OAAA,CAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;AACA,SAAA,IAAA,CAAA,aAAA,KAAA,IAAA,CAAA,MAAA,CAAA,EAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,CADA,CAEA;AACA,KAJA;AAKA;AAnEA,CAAA","sourcesContent":["<template>\n    <div class=\"perfectInformation\">\n        <h3>请完善信息</h3>\n        <van-form @submit=\"onSubmit\">\n            <van-field\n                    v-model=\"fieldValue\"\n                    is-link\n                    label=\"班级\"\n                    placeholder=\"请选择所在班级\"\n                    @click=\"show = true\"\n            />\n            <van-popup v-model=\"show\" round position=\"bottom\">\n                <van-cascader\n                        title=\"请选择所在班级\"\n                        :options=\"dept\"\n                        @close=\"show = false\"\n                        @finish=\"onFinish\"\n                        :field-names=\"fieldNames\"\n                />\n            </van-popup>\n            <van-field v-model=\"username\" label=\"姓名\" placeholder=\"请输入姓名\"\n                       :rules=\"[{ required: true, message: '姓名不能为空' }]\"/>\n            <van-field v-model=\"phone\" type=\"tel\" label=\"手机号\" placeholder=\"请输入手机号\"\n                       :rules=\"[{ required: true, message: '手机号不能为空' }]\"/>\n            <van-radio-group v-model=\"sex\" direction=\"horizontal\" style=\"margin: 8px 0 5px 15px\">\n                <van-radio name=\"0\">男</van-radio>\n                <van-radio name=\"1\">女</van-radio>\n            </van-radio-group>\n            <div style=\"margin: 16px;\">\n                <van-button round block type=\"primary\" native-type=\"submit\">提交</van-button>\n            </div>\n        </van-form>\n    </div>\n</template>\n\n<script>\n    import {mapMutations, mapState} from \"vuex\";\n    export default {\n        name: \"PerfectInformation\",\n        data() {\n            return {\n                show: false,\n                // 显示字体\n                fieldValue: '',\n                // 选择的班级\n                cascaderValue: [],\n                // 选项列表，children 代表子选项，支持多级嵌套\n                fieldNames: {\n                    text: 'name',\n                    value: 'id',\n                    children: 'classes',\n                },\n                username: \"\",\n                phone: \"\",\n                //班级\n                dept:[],\n                sex:'0'\n            }\n        },\n        computed:{\n            ...mapState('user', ['user'])\n        },\n        methods: {\n            ...mapMutations('user', ['setUser']),\n            onFinish({selectedOptions}) {\n                this.show = false;\n                this.fieldValue = selectedOptions.map((option) => option.name).join('/');\n                selectedOptions.map((option) => {\n                    this.cascaderValue.push(option.id)\n                })\n            },\n            onSubmit() {\n                if (this.cascaderValue.length > 0){\n                    this.$put(\"/user\",\n                        {\n                            id: this.user.id,\n                            \"deptId\": this.cascaderValue[0],\n                            \"classId\": this.cascaderValue[1],\n                            \"username\": this.username,\n                            \"phone\": this.phone,\n                            'sex' : this.sex\n                        })\n                    .then(res => {\n                        this.$get(\"/user/\" + this.user.id)\n                        .then((rs) => {\n                            sessionStorage.setItem(\"user\", JSON.stringify(rs.data.user))\n                            this.setUser(JSON.parse(sessionStorage.getItem(\"user\")))\n                            this.$msg(res.data.msg,'success')\n                            this.$router.push({name:'mHome'})\n                        })\n                    })\n                }else {\n                    this.$msg(\"请选择学校\",\"error\")\n                }\n            },\n\n        },\n        created() {\n            this.setUser(JSON.parse(sessionStorage.getItem(\"user\")))\n            this.$get(\"/school/\" + this.user.school.id)\n            .then((res) => {\n                this.dept = res.data.school.depts\n                // console.log(this.dept)\n            })\n        }\n    }\n</script>\n\n<style scoped>\n    .perfectInformation{\n        height: 100vh;\n        background: white;\n    }\n    .perfectInformation h3{\n        text-align: center;background: white;padding: 15px;font-weight: normal;border-bottom: 1px solid rgb(237 237 237)\n    }\n    /deep/ .van-field__label{\n        width: 3.5em;\n    }\n</style>"],"sourceRoot":"src/views/Android/Home"}]}