{"remainingRequest":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/thread-loader/dist/cjs.js!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/babel-loader/lib/index.js!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/src/views/PC/admin/children/School.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/src/views/PC/admin/children/School.vue","mtime":1635704094000},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/thread-loader/dist/cjs.js","mtime":1635870229073},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/babel-loader/lib/index.js","mtime":1635870232549},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/SpringBoot/项目/源项目/校园跑腿/源文件/2/campus-gang-web-master/node_modules/vue-loader/lib/index.js","mtime":1635870230423}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTY2hvb2wiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzY2hvb2xzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGd1aWQyOiBmdW5jdGlvbiBndWlkMigpIHsKICAgICAgZnVuY3Rpb24gUzQoKSB7CiAgICAgICAgcmV0dXJuICgoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCB8IDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBTNCgpICsgUzQoKSArICItIiArIFM0KCkgKyAiLSIgKyBTNCgpICsgIi0iICsgUzQoKSArICItIiArIFM0KCkgKyBTNCgpICsgUzQoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJGdldCgnL3NjaG9vbCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zY2hvb2xzKQogICAgICBfdGhpcy5zY2hvb2xzID0gcmVzLmRhdGEuc2Nob29sOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgZGF0YUxpc3Q6IGZ1bmN0aW9uIGRhdGFMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLnNjaG9vbHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgdmFyIGRlcHRzID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbVsnZGVwdHMnXS5sZW5ndGg7IGkrKykgewogICAgICAgICAgLy8gY29uc29sZS5sb2coaXRlbVsnZGVwdHMnXVtpXVsnY2xhc3NlcyddKQogICAgICAgICAgZGVwdHMucHVzaCh7CiAgICAgICAgICAgIGRlcHRzSWQ6IGl0ZW1bJ2RlcHRzJ11baV0uaWQsCiAgICAgICAgICAgIGRlcHRuYW1lOiBpdGVtWydkZXB0cyddW2ldLm5hbWUsCiAgICAgICAgICAgIHV1aWQ6IF90aGlzMi5ndWlkMigpCiAgICAgICAgICB9KTsgLy8gY29uc29sZS5sb2coZGVwdHMpCgogICAgICAgICAgdmFyIGNoaWxkcmVuID0gW107CgogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpdGVtWydkZXB0cyddW2ldWydjbGFzc2VzJ10ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgY2hpbGRyZW4ucHVzaCh7CiAgICAgICAgICAgICAgY2xhc3Nlc0lkOiBpdGVtWydkZXB0cyddW2ldWydjbGFzc2VzJ11bal0uaWQsCiAgICAgICAgICAgICAgY2xhc3Nlc25hbWU6IGl0ZW1bJ2RlcHRzJ11baV1bJ2NsYXNzZXMnXVtqXS5uYW1lLAogICAgICAgICAgICAgIHV1aWQ6IF90aGlzMi5ndWlkMigpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGRlcHRzW2ldLmNoaWxkcmVuID0gY2hpbGRyZW47CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgc2Nob29sSWQ6IGl0ZW0uaWQsCiAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICBjaGlsZHJlbjogZGVwdHMsCiAgICAgICAgICB1dWlkOiBfdGhpczIuZ3VpZDIoKQogICAgICAgIH07CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["School.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,eAAA,EAAA,GAAA;AACA,eAAA,CAAA,CAAA,IAAA,IAAA,CAAA,MAAA,EAAA,IAAA,OAAA,GAAA,CAAA,EAAA,QAAA,CAAA,EAAA,EAAA,SAAA,CAAA,CAAA,CAAA;AACA;;AACA,aAAA,EAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,EAAA,EAAA,GAAA,GAAA,GAAA,EAAA,EAAA,GAAA,GAAA,GAAA,EAAA,EAAA,GAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA;AACA;AANA,GAPA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,SAAA,IAAA,CAAA,SAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA;AACA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,KALA;AAMA,GAtBA;AAuBA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,aAAA,KAAA,OAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,GAAA,EAAA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,OAAA,CAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA;AACA,UAAA,KAAA,CAAA,IAAA,CACA;AACA,YAAA,OAAA,EAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,EADA;AAEA,YAAA,QAAA,EAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,IAFA;AAGA,YAAA,IAAA,EAAA,MAAA,CAAA,KAAA;AAHA,WADA,EAFA,CASA;;AACA,cAAA,QAAA,GAAA,EAAA;;AACA,eAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,SAAA,EAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CACA;AACA,cAAA,SAAA,EAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,SAAA,EAAA,CAAA,EAAA,EADA;AAEA,cAAA,WAAA,EAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,SAAA,EAAA,CAAA,EAAA,IAFA;AAGA,cAAA,IAAA,EAAA,MAAA,CAAA,KAAA;AAHA,aADA;AAOA;;AACA,UAAA,KAAA,CAAA,CAAA,CAAA,CAAA,QAAA,GAAA,QAAA;AACA;;AACA,eAAA;AACA,UAAA,QAAA,EAAA,IAAA,CAAA,EADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA,IAFA;AAGA,UAAA,QAAA,EAAA,KAHA;AAIA,UAAA,IAAA,EAAA,MAAA,CAAA,KAAA;AAJA,SAAA;AAMA,OA9BA,CAAA;AA+BA;AAjCA;AAvBA,CAAA","sourcesContent":["<template>\n    <div class=\"content\">\n        <el-table\n                :data=\"dataList\"\n                style=\"width: 100%;margin-bottom: 20px;\"\n                row-key=\"uuid\"\n                border\n                :default-expand-all = 'false'\n                :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\">\n            <el-table-column\n                    prop=\"name\"\n                    label=\"学校\"\n                    sortable\n                    width=\"230\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"deptname\"\n                    label=\"系\"\n                    sortable\n                    width=\"180\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"classesname\"\n                    label=\"班级\">\n            </el-table-column>\n            <el-table-column label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button\n                            size=\"mini\"\n                            @click=\"handleEdit(scope.$index, scope.row)\">编辑\n                    </el-button>\n                    <el-button\n                            size=\"mini\"\n                            type=\"danger\"\n                            @click=\"handleDelete(scope.$index, scope.row)\"\n                    >删除\n                    </el-button>\n                    <el-button\n                            size=\"mini\"\n                            @click=\"handleEdit(scope.$index, scope.row)\">增加\n                    </el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"School\",\n        data() {\n            return {\n                schools : []\n            }\n        },\n        methods: {\n            guid2() {\n                function S4() {\n                    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n                }\n                return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n            }\n        },\n        created() {\n            this.$get('/school')\n            .then(res => {\n                // console.log(res.data)\n                // console.log(this.schools)\n                this.schools = res.data.school\n            })\n        },\n        computed:{\n            dataList(){\n                return this.schools.map(item => {\n                    let depts = [];\n                    for (let i = 0;i<item['depts'].length;i++){\n                        // console.log(item['depts'][i]['classes'])\n                        depts.push(\n                            {\n                                deptsId : item['depts'][i].id,\n                                deptname : item['depts'][i].name,\n                                uuid : this.guid2()\n                            }\n                        )\n                        // console.log(depts)\n                        let children = [];\n                        for (let j = 0;j<item['depts'][i]['classes'].length;j++){\n                            children.push(\n                                {\n                                    classesId : item['depts'][i]['classes'][j].id,\n                                    classesname:item['depts'][i]['classes'][j].name,\n                                    uuid : this.guid2()\n                                }\n                            )\n                        }\n                        depts[i].children = children\n                    }\n                    return{\n                            schoolId : item.id,\n                            name : item.name,\n                            children : depts,\n                            uuid : this.guid2()\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .content {\n        padding: 0 1%;\n    }\n</style>"],"sourceRoot":"src/views/PC/admin/children"}]}