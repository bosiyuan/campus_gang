{"remainingRequest":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/babel-loader/lib/index.js!/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/src/views/PC/user/children/Accepted.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/src/views/PC/user/children/Accepted.vue","mtime":1635704094000},{"path":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/babel-loader/lib/index.js","mtime":1635870232549},{"path":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/cache-loader/dist/cjs.js","mtime":1635870229118},{"path":"/Users/sunxianchao/Desktop/毕业设计/程序设计/校园帮api+web/campus-gang-web-master/node_modules/vue-loader/lib/index.js","mtime":1635870230423}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3N1bnhpYW5jaGFvL0Rlc2t0b3AvXHU2QkQ1XHU0RTFBXHU4QkJFXHU4QkExL1x1N0EwQlx1NUU4Rlx1OEJCRVx1OEJBMS9cdTY4MjFcdTU2RURcdTVFMkVhcGkrd2ViL2NhbXB1cy1nYW5nLXdlYi1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBmb3JtYXREYXRlIGFzIF9mb3JtYXREYXRlIH0gZnJvbSAnQC91dGlsL2RhdGUnOwppbXBvcnQgdXNlciBmcm9tICIuLi8uLi8uLi8uLi9zdG9yZS9tb2R1bGUvdXNlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWNjZXB0ZWQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVOYW1lczogWycxJ10sCiAgICAgIHRhc2tzOiBbXSAvLyBkcmF3ZXI6ZmFsc2UsCgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgndXNlcicsIFsndXNlciddKSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubmV3TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZGVsOiBmdW5jdGlvbiBkZWwoaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHB1dCgnL3Rhc2svdGFrZXJDYW5jZWwvJyArIGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy4kbm90aWZ5TXNnKCfmiJDlip8nLCAn5Y+W5raI5Lu75Yqh5oiQ5YqfJywgJ3N1Y2Nlc3MnKTsKCiAgICAgICAgX3RoaXMubmV3TGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICBuZXdMaXN0OiBmdW5jdGlvbiBuZXdMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGdldCgiL3Rhc2svYWNjZXB0ZWQiLCB7CiAgICAgICAgaWQ6IHRoaXMudXNlci5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIudGFza3MgPSByZXMuZGF0YS50YXNrOyAvLyBjb25zb2xlLmxvZyh0aGlzLnRhc2tzKQogICAgICB9KTsKICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUodGltZSkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpOwogICAgICByZXR1cm4gX2Zvcm1hdERhdGUoZGF0ZSwgJ3l5eXktTU0tZGQgaGg6bW0nKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Accepted.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA,SAAA,QAAA,QAAA,MAAA;AACA,SAAA,UAAA,IAAA,WAAA,QAAA,aAAA;AACA,OAAA,IAAA,MAAA,+BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,CAAA,GAAA,CADA;AAEA,MAAA,KAAA,EAAA,EAFA,CAGA;;AAHA,KAAA;AAKA,GARA;AASA,EAAA,QAAA,oBACA,QAAA,CAAA,MAAA,EAAA,CAAA,MAAA,CAAA,CADA,CATA;AAYA,EAAA,OAZA,qBAYA;AACA,SAAA,OAAA;AACA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,GADA,eACA,EADA,EACA;AAAA;;AACA,WAAA,IAAA,CAAA,uBAAA,EAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,CAAA,IAAA,EAAA,QAAA,EAAA,SAAA;;AACA,QAAA,KAAA,CAAA,OAAA;AACA,OAJA;AAKA,KAPA;AAQA,IAAA,OARA,qBAQA;AAAA;;AACA,WAAA,IAAA,CAAA,gBAAA,EAAA;AAAA,QAAA,EAAA,EAAA,KAAA,IAAA,CAAA;AAAA,OAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CADA,CAEA;AACA,OAJA;AAKA;AAdA,GAfA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,IADA,EACA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA;AACA,aAAA,WAAA,CAAA,IAAA,EAAA,kBAAA,CAAA;AACA;AAJA;AA/BA,CAAA","sourcesContent":["<template>\n    <div class=\"content\">\n        <el-card class=\"box-card\">\n            <div slot=\"header\" class=\"clearfix\">\n                <span>已接收任务</span>\n            </div>\n            <el-card class=\"box-card\" style=\"margin-top: 20px\" v-for=\"item in tasks\">\n                <div slot=\"header\" class=\"clearfix\"\n                     style=\"display: flex; align-items: center; justify-content: space-between\">\n                        <span style=\"display: flex;align-items: center\">\n                            <el-tag :type=\"item.state == 0 ? 'danger':(item.state == 1 ? 'warning':'success')\"\n                                    style=\"margin-right: 5px\">{{item.state == 0 ? '待解决':(item.state == 1 ? '服务中':'已完成')}}</el-tag>\n                            {{item.taskTitle}}\n                        </span>\n                    <!--                    <el-button style=\"float: right; padding: 3px 0\" type=\"text\">查看接受人信息</el-button>-->\n                    <template>\n                        <el-popconfirm title=\"确定取消任务吗\" @confirm=\"del(item.id)\">\n                            <el-button style=\"float: right; padding: 3px 0\" type=\"text\" slot=\"reference\"\n                                       v-show=\"item.state != 2\">取消任务\n                            </el-button>\n                        </el-popconfirm>\n                    </template>\n                </div>\n                <div>\n                    {{item.taskContext}}\n                </div>\n                <el-collapse style=\"margin-top: 20px\" v-model=\"activeNames\">\n                    <el-collapse-item title=\"发布人信息\" name=\"1\">\n                        <el-card class=\"box-card\">\n                            <div slot=\"header\" class=\"clearfix\">\n                                <span>{{item.publish.username}}</span>\n                                <el-button style=\"float: right; padding: 3px 0\" type=\"text\">投诉</el-button>\n                            </div>\n                            <div class=\"box_center\">\n                                <table cellspacing=\"0\">\n                                    <tr>\n                                        <th>电话</th>\n                                        <th>学校</th>\n                                        <th>所在系</th>\n                                        <th>所在班级</th>\n                                        <th>任务奖励</th>\n                                        <th>接受任务时间</th>\n                                    </tr>\n                                    <tr align=\"center\">\n                                        <td>{{item.publish.phone}}</td>\n                                        <td>{{item.publish.school.name}}</td>\n                                        <td>{{item.publish.dept.name}}</td>\n                                        <td>{{item.publish.aclass.name}}</td>\n                                        <td><i class=\"el-icon-money\" style=\"color: red;\">{{item.reward}}元</i></td>\n                                        <td>{{item.orderTime | formatDate}}</td>\n                                    </tr>\n                                </table>\n                            </div>\n                        </el-card>\n\n                    </el-collapse-item>\n                    <el-collapse-item title=\"查看钱款\" name=\"2\" v-if=\"item.state == 2\">\n                        <el-card class=\"box-card\">\n                            <div>\n                                <p>实收款：<i class=\"el-icon-money\" style=\"color: red;\">{{item.reward}}元</i></p>\n                                <p>到款时间：{{item.endTime | formatDate}}</p>\n                            </div>\n                        </el-card>\n                    </el-collapse-item>\n                </el-collapse>\n            </el-card>\n            <div style=\"text-align: center\">\n                <span v-if=\"tasks.length == 0\"><i class=\"el-icon-refresh-right\"></i>暂无发布任务</span>\n            </div>\n        </el-card>\n    </div>\n</template>\n\n<script>\n    import {mapState} from \"vuex\";\n    import {formatDate} from '@/util/date';\n    import user from \"../../../../store/module/user\";\n\n    export default {\n        name: \"Accepted\",\n        data() {\n            return {\n                activeNames: ['1'],\n                tasks: [],\n                // drawer:false,\n            };\n        },\n        computed: {\n            ...mapState('user', ['user'])\n        },\n        created() {\n            this.newList()\n        },\n        methods: {\n            del(id) {\n                this.$put('/task/takerCancel/' + id)\n                .then(res => {\n                    this.$notifyMsg('成功', '取消任务成功', 'success')\n                    this.newList()\n                })\n            },\n            newList() {\n                this.$get(\"/task/accepted\", {id: this.user.id})\n                .then(res => {\n                    this.tasks = res.data.task\n                    // console.log(this.tasks)\n                })\n            }\n        },\n        filters: {\n            formatDate(time) {\n                let date = new Date(time);\n                return formatDate(date, 'yyyy-MM-dd hh:mm');\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"less\">\n    .content {\n        background: #FFf;\n        margin: 0 15px;\n        padding: 15px;\n\n        .box_center table {\n            margin: 0 auto;\n            width: 100%;\n            border-top: 1px solid #ebeef5;\n            border-left: 1px solid #ebeef5;\n        }\n\n        .box_center th, td {\n            padding: 15px 20px;\n            border-right: 1px solid #ebeef5;\n            border-bottom: 1px solid #ebeef5;\n        }\n    }\n</style>"],"sourceRoot":"src/views/PC/user/children"}]}